<div class="row" ng-controller="DashboardController" ng-init="initDash()">
    <div class="play_container">
        <div ng-show="isRankingsShown()" class="col-md-3">
            <div ng-include src="'/views/dashboard/contest_rankings_button_panel.html'"></div>
            <div class="rankings_container">
                <div ng-include src="'/views/dashboard/player_card_join.html'" ng-show="userProfile.userID && !isParticipant()" ></div>
                <div ng-repeat="player in getPlayerRankings()" ng-include src="'/views/dashboard/player_card.html'"></div>
                <!--
                <div ng-repeat="player in playerRankingOnTop(userProfile.userID, contest.rankings)" ng-include src="'/views/dashboard/player_card.html'"></div>
                -->
            </div>
        </div>

        <div ng-class="isRankingsShown() ? 'col-md-9' : 'col-md-12'">
            <div ng-show="contest.name" class="col-md-12 dashboard_title">
                <avatar id="{{ contest.hostUserID }}" class="avatar-24 clickable" ng-click="popupPlayerProfile(contest.hostUserID)"></avatar> {{ contest.name }}
                <span class="ds_clock" style="vertical-align: middle">
                    <span ng-show="contest.status == 'CLOSED'">
                         <span ng-show="contest.startTime && contest.expirationTime">(Status: <span style="color: #ffff00">Closed</span>)</span>
                     </span>
                     <span ng-hide="contest.status == 'CLOSED'">
                         <span ng-show="contest.startTime && contest.expirationTime">
                             (Started {{ contest.startTime | duration }}; ends {{ contest.expirationTime | duration }})
                         </span>
                     </span>
                </span>
            </div>
            <div class="rankings_header" class="col-md-12">
                <i ng-show="isRankingsShown()" class="fa fa-chevron-circle-left st_control clickable" ng-click="toggleRankingsShown()"></i>
                <i ng-hide="isRankingsShown()" class="fa fa-chevron-circle-right st_control clickable" ng-click="toggleRankingsShown()"></i>
                <span class="st_bkg_color bold clickable" ng-click="toggleRankingsShown()">
                    {{ isRankingsShown() ? 'Hide' : 'Show'}} Player Rankings
                </span>

                <div ng-include src="'/views/dashboard/contest_summary.html'"></div>
                <div ng-include src="'/views/dashboard/portfolio_button_panel.html'"></div>
                <div ng-include src="'/views/dashboard/portfolio_tabs.html'"></div>
            </div>
        </div>
    </div>
</div>